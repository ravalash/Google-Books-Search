(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(71)},40:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),o=a.n(l),c=(a(40),a(10)),s=a(2);var i=function(){return r.a.createElement("header",{className:"sticky-top"},r.a.createElement("div",{className:"container",style:{backgroundColor:"#8E8D8A"}},r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark pl-0  h-100"},r.a.createElement(c.b,{className:" navbar-brand ml-5  ",to:"/#"},"Google Books"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-md-end",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav "},r.a.createElement("li",{className:"/search"===window.location.pathname?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/search"},"Search")),r.a.createElement("li",{className:"/saved"===window.location.pathname?"nav-item active":"nav-item"},r.a.createElement(c.b,{className:"nav-link",to:"/saved"},"Saved")))))))};var m=function(){return r.a.createElement("div",{className:"container pl-0 pr-0"},r.a.createElement("footer",{className:"footer py-4  text-white-50",style:{backgroundColor:"#8E8D8A"}},r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"row row-cols-1 row-cols-md-3"},r.a.createElement("div",{className:"col"})))))};a(48);var u=function(e){return r.a.createElement("main",Object.assign({className:"wrapper"},e))},d=a(13),h=a(14),v=a(16),b=a(15),E=a(17);var f=function(e){return r.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e))};var g=function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return r.a.createElement("div",Object.assign({className:t},e))};var p=function(e){return r.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e))};var k=function(e){var t=e.children;return r.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,marginTop:10,textAlign:"center",backgroundColor:"#EAE7DC"},className:"jumbotron"},t)};a(49);var y=function(e){return r.a.createElement("div",{className:"card mb-2",id:"resultsdiv",style:e.style},r.a.createElement("h5",{className:"card-header"},"Results"),r.a.createElement("div",{className:"card-body"},e.results.map(function(t,a){return r.a.createElement(p,{key:t._id},r.a.createElement(g,{size:"lg"},r.a.createElement("div",{className:"card my-2",listid:a,style:{backgroundColor:"#EAE7DC",border:"solid 2px #E98074"}},r.a.createElement(p,null,r.a.createElement(g,{size:"lg-10"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{style:{fontWeight:"bold",color:"black"}},t.title),r.a.createElement("h3",{style:{fontWeight:"bold",color:"black"}},t.authors))),r.a.createElement(g,{size:"lg-2"},r.a.createElement(p,null,r.a.createElement(g,{size:"12"},r.a.createElement("a",{className:"btn btn-primary m-1",href:t.link,role:"button",target:"_blank",rel:"noopener noreferrer"},"View"))),r.a.createElement(p,null,r.a.createElement(g,{size:"12"},r.a.createElement("button",{type:"button",className:"btn btn-primary m-1",id:t._id,onClick:e.handleFormSubmit},"Delete"))))),r.a.createElement(p,null,r.a.createElement(g,{size:"lg-3"},r.a.createElement("img",{className:"card-img-top",src:t.image,alt:"Card cap",style:{border:"#D8C3A5 solid 2px"}})),r.a.createElement(g,{size:"lg-9"},r.a.createElement("div",{className:"card text-center ",style:{width:"100%",height:"100%",backgroundColor:"#EAE7DC",color:"black"}},r.a.createElement("div",{className:"card-body d-flex"},r.a.createElement("p",{className:"card-text"},t.description))))))))})))},N=a(9),w=a.n(N),S=a(18),C=a(12),x=a.n(C),j={bookSearch:function(e){return x.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},bookSave:function(){var e=Object(S.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,x()({method:"POST",data:t,url:"http://localhost:3001/api/books"});case 4:if(!(a=e.sent)){e.next=8;break}return console.log(a),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),bookLoad:function(){var e=Object(S.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x()({method:"GET",url:"http://localhost:3001/api/books"});case 3:if(!(t=e.sent)){e.next=7;break}return console.log(t),e.abrupt("return",t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),bookDelete:function(){var e=Object(S.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,x()({method:"DELETE",url:"http://localhost:3001/api/books/".concat(t)});case 4:if(!(a=e.sent)){e.next=8;break}return console.log(a),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},A=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={results:[],error:""},a.loadSavedBooks=function(){j.bookLoad().then(function(e){console.log(e),a.setState({results:e.data}),console.log(a.state.results)}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault(),j.bookDelete(e.target.getAttribute("id")).then(function(e){if("error"===e.data.status)throw new Error(e.data.message);a.setState({error:""}),a.loadSavedBooks(),console.log("request succeeded")}).catch(function(e){return a.setState({error:e.message})})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadSavedBooks()}},{key:"render",value:function(){return r.a.createElement(f,{style:{backgroundColor:"#E98074"}},r.a.createElement(p,null,r.a.createElement(g,{size:"lg"},r.a.createElement(k,null,r.a.createElement("h1",null,"(REACT) Google Books Search"),r.a.createElement("h3",null,"Search for and Save Books of Interest")),r.a.createElement(y,{results:this.state.results,handleFormSubmit:this.handleFormSubmit,style:{display:this.state.results.length>0?"block":"none"}}))))}}]),t}(n.Component);var O=function(e){return r.a.createElement("div",{className:"card mb-2",style:{backgroundColor:"#EAE7DC",border:"none",height:""}},r.a.createElement("h5",{className:"card-header"},"Book Search"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",onChange:e.handleInputChange,value:e.search,className:"form-control",id:"bookInput",placeholder:"Type in a book to search for","aria-describedby":"bookSearch"})),r.a.createElement("button",{type:"submit",onClick:e.handleFormSubmit,className:"btn btn-primary"},"Search"))))};a(69);var z=function(e){return r.a.createElement("div",{className:"card mb-2",id:"resultsdiv",style:e.style},r.a.createElement("h5",{className:"card-header"},"Results"),r.a.createElement("div",{className:"card-body"},e.results.map(function(t,a){return r.a.createElement(p,{key:a},r.a.createElement(g,{size:"lg"},r.a.createElement("div",{className:"card my-2",listid:a,style:{backgroundColor:"#EAE7DC",border:"solid 2px #E98074"}},r.a.createElement(p,null,r.a.createElement(g,{size:"lg-10"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{style:{fontWeight:"bold",color:"black"}},t.volumeInfo.title),r.a.createElement("h3",{style:{fontWeight:"bold",color:"black"}},t.volumeInfo.authors))),r.a.createElement(g,{size:"lg-2"},r.a.createElement(p,null,r.a.createElement(g,{size:"12"},r.a.createElement("a",{className:"btn btn-primary m-1",href:t.volumeInfo.canonicalVolumeLink,role:"button",target:"_blank",rel:"noopener noreferrer"},"View"))),r.a.createElement(p,null,r.a.createElement(g,{size:"12"},r.a.createElement("button",{type:"button",className:"btn btn-primary m-1",title:t.volumeInfo.title,authors:t.volumeInfo.authors,link:t.volumeInfo.canonicalVolumeLink,image:t.volumeInfo.imageLinks.smallThumbnail,desc:t.volumeInfo.description,onClick:e.handleBookSave},"Save"))))),r.a.createElement(p,null,r.a.createElement(g,{size:"lg-3"},r.a.createElement("img",{className:"card-img-top",src:t.volumeInfo.imageLinks.smallThumbnail,alt:"Card cap",style:{border:"#D8C3A5 solid 2px"}})),r.a.createElement(g,{size:"lg-9"},r.a.createElement("div",{className:"card text-center ",style:{width:"100%",height:"100%",backgroundColor:"#EAE7DC",color:"black"}},r.a.createElement("div",{className:"card-body d-flex"},r.a.createElement("p",{className:"card-text"},t.volumeInfo.description))))))))})))},D=a(34);var I=function(e){return r.a.createElement("div",{role:"alert",className:"alert alert-".concat(e.type," fade in"),style:Object(D.a)({width:"80%",margin:"0 auto",marginTop:18},e.style)},e.children)},B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",results:[],error:"",add:null},a.handleInputChange=function(e){a.setState({search:e.target.value})},a.handleBookSave=function(e){e.preventDefault(),j.bookSave({title:e.target.getAttribute("title"),description:e.target.getAttribute("desc"),authors:e.target.getAttribute("authors"),image:e.target.getAttribute("image"),link:e.target.getAttribute("link")}).then(function(e){console.log(e),e.data._id&&a.setState({add:!0})})},a.handleFormSubmit=function(e){e.preventDefault(),j.bookSearch(a.state.search.split(" ").join("+")).then(function(e){if("error"===e.data.status)throw new Error(e.data.message);a.setState({results:e.data.items,error:""}),a.setState({search:""}),console.log("request succeeded"),console.log(e.data.items)}).catch(function(e){return a.setState({error:e.message})})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;setTimeout(function(){return e.setState({add:null})},5e3)}},{key:"render",value:function(){return r.a.createElement(f,{style:{backgroundColor:"#E98074"}},r.a.createElement(p,null,r.a.createElement(g,{size:"lg"},r.a.createElement(k,null,r.a.createElement("h1",null,"(REACT) Google Books Search"),r.a.createElement("h3",null,"Search for and Save Books of Interest")))),r.a.createElement(p,null,r.a.createElement(g,{size:"lg"},r.a.createElement(O,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange,search:this.state.search}))),r.a.createElement(p,null,r.a.createElement(g,{size:"lg"},r.a.createElement(I,{style:{opacity:this.state.add?1:0},type:"success"},"Book Added!"),r.a.createElement(z,{results:this.state.results,handleBookSave:this.handleBookSave,style:{display:this.state.results.length>0?"block":"none"}}))))}}]),t}(n.Component);a(70);var T=function(){return r.a.createElement(c.a,{basename:""},r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(u,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/search",component:B}),r.a.createElement(s.a,{exact:!0,path:"/saved",component:A}),r.a.createElement(s.a,{component:B}))),r.a.createElement(m,null)))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(T,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");L?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):F(e)})}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.64aa3f22.chunk.js.map